if [ -n "$__CURRENT_GIT_BRANCH" ]; then
    local s=""
    s+="$__CURRENT_GIT_BRANCH"
    case "$__CURRENT_GIT_BRANCH_STATUS" in
        ahead)
        s+="+"
        ;;
        diverged)
        s+="0"
        ;;
        behind)
        s+="-"
        ;;
    esac
    if [ -n "$__CURRENT_GIT_BRANCH_IS_DIRTY" ]; then
        s+=" (dirty)"
    fi
    # s+=""

    printf "%s%s" "%{${fg[red]}%}" $s
fi
