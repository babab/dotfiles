#!/bin/sh

VIM_EXEC=$(which vim)
if [ $? -gt 0 ]; then
    echo "Error: Could not find 'vim'"
    exit 1
fi

if [ $# -eq 1 ]; then
    $VIM_EXEC $@
elif [ $# -eq 2 ]; then
    if [ $(tput cols) -lt 80 ]; then
        $VIM_EXEC -p $@
    elif [ $(tput cols) -lt 191 ]; then
        $VIM_EXEC -o $@
    else
        $VIM_EXEC -O $@
    fi
elif [ $# -ge 3 ]; then
    $VIM_EXEC -p $@
fi
